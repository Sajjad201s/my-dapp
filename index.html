<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Dapp Demo - GitHub Pages</title>
  <style>
    body { font-family: sans-serif; text-align:center; padding:20px; background:#f5f5f5; }
    .container { max-width:400px; margin:auto; background:white; padding:20px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.2);}
    input { width:100%; padding:8px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc; }
    button { padding:10px 20px; margin:5px; border:none; border-radius:5px; background:#4CAF50; color:white; cursor:pointer;}
    button:hover { background:#45a049; }
    h2, h3 { margin-bottom:15px; }
    ul { text-align:left; padding-left:20px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>ثبت‌نام با معرف (Demo)</h2>
    <p>پرداخت: 100 USDT (شبیه‌سازی)</p>
    <input id="referrer" placeholder="آدرس معرف">
    <br>
    <button onclick="connectWallet()">اتصال کیف پول (شبیه‌سازی)</button>
    <button onclick="register()">پرداخت و ثبت‌نام (شبیه‌سازی)</button>
    <p id="status"></p>

    <h3>لیست زیرمجموعه‌ها (شبیه‌سازی)</h3>
    <ul id="referrals"></ul>

    <h3>پاداش کل شبیه‌سازی شده</h3>
    <p id="totalReward">0 USDT</p>
  </div>

  <script>
    let connected = false;
    let referrals = [];
    let totalReward = 0;

    function connectWallet() {
      connected = true;
      document.getElementById("status").innerText = "کیف پول متصل شد (شبیه‌سازی)";
    }

    function register() {
      if (!connected) {
        alert("ابتدا کیف پول را متصل کنید");
        return;
      }
      const ref = document.getElementById("referrer").value;
      if (!ref) {
        alert("آدرس معرف را وارد کنید");
        return;
      }

      // شبیه‌سازی پرداخت و پاداش
      const reward = 10; // ۱۰٪ پاداش شبیه‌سازی شده
      totalReward += reward;

      document.getElementById("status").innerText = 
        `پرداخت 100 USDT شبیه‌سازی شد. پاداش 10٪ به ${ref} ثبت شد.`;

      referrals.push(ref);
      updateReferrals();
    }

    function updateReferrals() {
      const ul = document.getElementById("referrals");
      ul.innerHTML = "";
      referrals.forEach((r,i)=>{
        const li = document.createElement("li");
        li.innerText = `${i+1}. ${r} (۱۰٪ پاداش شبیه‌سازی شده)`;
        ul.appendChild(li);
      });
      document.getElementById("totalReward").innerText = totalReward + " USDT";
    }
  </script>
</body>
</html>